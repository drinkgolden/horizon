{% comment %}
  HERO CAROUSEL — Split hero with image triggers
  Image swaps are driven by hovering or focusing the CTA buttons.
{% endcomment %}

{% liquid
  assign color_scheme = section.settings.color_scheme | default: 'scheme-1'
  assign has_blocks = false
  if section.blocks.size > 0
    assign has_blocks = true
  endif
  assign heading_tag = section.settings.heading_tag | default: 'h1'
  assign allowed_heading_tags = 'h1,h2,h3,h4,h5,h6' | split: ','
  unless allowed_heading_tags contains heading_tag
    assign heading_tag = 'h2'
  endunless

  assign media_aspect_ratio = section.settings.media_aspect_ratio | default: 'auto'
  assign media_aspect_ratio_value = ''
  case media_aspect_ratio
    when 'landscape'
      assign media_aspect_ratio_value = '16 / 9'
    when 'portrait'
      assign media_aspect_ratio_value = '4 / 5'
    when 'square'
      assign media_aspect_ratio_value = '1 / 1'
    when 'custom'
      assign custom_ratio = section.settings.media_aspect_ratio_custom | strip
      if custom_ratio != blank
        assign media_aspect_ratio_value = custom_ratio
      endif
  endcase

  assign initial_media_color_scheme = color_scheme
  assign initial_desktop_aspect = media_aspect_ratio_value
  assign initial_mobile_aspect = media_aspect_ratio_value

  if has_blocks
    assign first_block = section.blocks | first
    if first_block.settings.media_color_scheme != blank
      assign initial_media_color_scheme = first_block.settings.media_color_scheme
    endif

    assign first_desktop_image = first_block.settings.image
    assign first_mobile_image = first_block.settings.mobile_image
    if first_desktop_image == blank and first_mobile_image != blank
      assign first_desktop_image = first_mobile_image
    endif
    if first_mobile_image == blank
      assign first_mobile_image = first_desktop_image
    endif

    assign first_desktop_ratio_setting = first_block.settings.desktop_image_ratio | default: 'adapt'
    assign first_desktop_ratio_value = ''
    case first_desktop_ratio_setting
      when 'landscape'
        assign first_desktop_ratio_value = '16 / 9'
      when 'portrait'
        assign first_desktop_ratio_value = '4 / 5'
      when 'square'
        assign first_desktop_ratio_value = '1 / 1'
      when 'adapt'
        if first_desktop_image != blank and first_desktop_image.aspect_ratio != blank
          assign first_desktop_ratio_value = first_desktop_image.aspect_ratio
        endif
    endcase

    assign first_mobile_ratio_setting = first_block.settings.mobile_image_ratio | default: first_desktop_ratio_setting
    assign first_mobile_ratio_value = ''
    case first_mobile_ratio_setting
      when 'landscape'
        assign first_mobile_ratio_value = '16 / 9'
      when 'portrait'
        assign first_mobile_ratio_value = '4 / 5'
      when 'square'
        assign first_mobile_ratio_value = '1 / 1'
      when 'adapt'
        if first_mobile_image != blank and first_mobile_image.aspect_ratio != blank
          assign first_mobile_ratio_value = first_mobile_image.aspect_ratio
        elsif first_desktop_ratio_value != ''
          assign first_mobile_ratio_value = first_desktop_ratio_value
        endif
    endcase

    if first_desktop_ratio_value != ''
      assign initial_desktop_aspect = first_desktop_ratio_value
    endif
    if first_mobile_ratio_value != ''
      assign initial_mobile_aspect = first_mobile_ratio_value
    endif
  endif
%}

{% capture section_style %}
  {% render 'spacing-style', settings: section.settings %}
  {% if media_aspect_ratio_value != blank %}
    --hero-carousel-media-aspect: {{ media_aspect_ratio_value }};
  {% endif %}
{% endcapture %}

<div class="section-background color-{{ color_scheme }}"></div>
<section
  class="hero-carousel section section--full-width color-{{ color_scheme }} spacing-style hero-carousel--image-{{ section.settings.image_position }} hero-carousel--align-{{ section.settings.content_alignment }}"
  style="{{ section_style | strip }}"
  aria-label="{{ section.settings.heading | strip_html | default: 'Hero carousel' }}"
  data-section-id="{{ section.id }}"
  data-hero-carousel
>
  <div class="hero-carousel__frame">
    {% capture media_inline_style %}
      {% if initial_desktop_aspect != blank %}
        --hero-carousel-media-aspect-desktop: {{ initial_desktop_aspect }};
      {% endif %}
      {% if initial_mobile_aspect != blank %}
        --hero-carousel-media-aspect-mobile: {{ initial_mobile_aspect }};
      {% endif %}
    {% endcapture %}
    <div
      class="hero-carousel__media color-{{ initial_media_color_scheme }}"
      data-hero-media
      data-active-color-scheme="{{ initial_media_color_scheme }}"
      data-default-color-scheme="{{ initial_media_color_scheme }}"
      data-active-aspect-desktop="{{ initial_desktop_aspect }}"
      data-active-aspect-mobile="{{ initial_mobile_aspect }}"
      data-default-aspect-desktop="{{ initial_desktop_aspect | default: media_aspect_ratio_value }}"
      data-default-aspect-mobile="{{ initial_mobile_aspect | default: media_aspect_ratio_value }}"
      style="{{ media_inline_style | strip }}"
    >
      {% if has_blocks %}
        {% for block in section.blocks %}
          {% liquid
            assign alt_text = block.settings.image_alt | default: block.settings.label | default: section.settings.heading | default: 'Hero slide'
            assign loading_attr = 'lazy'
            assign fetchpriority_attr = 'auto'
            if forloop.first
              assign loading_attr = 'eager'
              assign fetchpriority_attr = 'high'
            endif
          %}
          {% liquid
            assign desktop_image = block.settings.image
            assign mobile_image = block.settings.mobile_image
            if desktop_image == blank and mobile_image != blank
              assign desktop_image = mobile_image
            endif
            assign block_media_color_scheme = block.settings.media_color_scheme | default: color_scheme
            assign desktop_ratio_setting = block.settings.desktop_image_ratio | default: 'adapt'
            assign desktop_ratio_value = ''
            case desktop_ratio_setting
              when 'landscape'
                assign desktop_ratio_value = '16 / 9'
              when 'portrait'
                assign desktop_ratio_value = '4 / 5'
              when 'square'
                assign desktop_ratio_value = '1 / 1'
              when 'adapt'
                if desktop_image != blank and desktop_image.aspect_ratio != blank
                  assign desktop_ratio_value = desktop_image.aspect_ratio
                endif
            endcase
            assign mobile_ratio_setting = block.settings.mobile_image_ratio | default: desktop_ratio_setting
            assign mobile_ratio_value = ''
            case mobile_ratio_setting
              when 'landscape'
                assign mobile_ratio_value = '16 / 9'
              when 'portrait'
                assign mobile_ratio_value = '4 / 5'
              when 'square'
                assign mobile_ratio_value = '1 / 1'
              when 'adapt'
                if mobile_image != blank and mobile_image.aspect_ratio != blank
                  assign mobile_ratio_value = mobile_image.aspect_ratio
                elsif desktop_ratio_value != ''
                  assign mobile_ratio_value = desktop_ratio_value
                endif
            endcase
            if desktop_ratio_value == '' and media_aspect_ratio_value != ''
              assign desktop_ratio_value = media_aspect_ratio_value
            endif
            if mobile_ratio_value == ''
              if desktop_ratio_value != ''
                assign mobile_ratio_value = desktop_ratio_value
              elsif media_aspect_ratio_value != ''
                assign mobile_ratio_value = media_aspect_ratio_value
              endif
            endif
          %}
          <div
            class="hero-carousel__media-item{% if forloop.first %} is-active{% endif %}{% if mobile_image %} hero-carousel__media-item--has-mobile{% endif %}"
            data-media-index="{{ forloop.index0 }}"
            data-media-color-scheme="{{ block_media_color_scheme }}"
            data-media-aspect-desktop="{{ desktop_ratio_value }}"
            data-media-aspect-mobile="{{ mobile_ratio_value }}"
            {{ block.shopify_attributes }}
          >

            {% if desktop_image %}
              {{ desktop_image | image_url: width: 2800 | image_tag:
                alt: alt_text,
                class: 'hero-carousel__image hero-carousel__image--desktop',
                loading: loading_attr,
                fetchpriority: fetchpriority_attr
              }}
            {% endif %}

            {% if mobile_image %}
              {{ mobile_image | image_url: width: 1800 | image_tag:
                alt: alt_text,
                class: 'hero-carousel__image hero-carousel__image--mobile',
                loading: loading_attr,
                fetchpriority: fetchpriority_attr
              }}
            {% endif %}

            {% if desktop_image == blank %}
              {{ 'hero-apparel-1' | placeholder_svg_tag: 'hero-carousel__placeholder' }}
            {% endif %}
          </div>
        {% endfor %}
      {% else %}
        <div class="hero-carousel__media-item is-active">
          {{ 'hero-apparel-1' | placeholder_svg_tag: 'hero-carousel__placeholder' }}
        </div>
      {% endif %}
    </div>

    <div class="hero-carousel__content">
      <div class="hero-carousel__content-inner">
        {% if section.settings.heading %}
          <{{ heading_tag }} class="hero-carousel__heading">{{ section.settings.heading }}</{{ heading_tag }}>
        {% endif %}

        {% if has_blocks %}
          <div class="hero-carousel__triggers">
            {% for block in section.blocks %}
              {% assign label = block.settings.label | default: 'Slide' %}
              {% assign url = block.settings.url %}
              {% assign open_new = block.settings.open_in_new_tab %}
              <a
                class="hero-carousel__trigger{% if forloop.first %} is-active{% endif %}"
                href="{{ url | default: '#' }}"
                data-trigger-index="{{ forloop.index0 }}"
                data-block="{{ block.id }}"
                {% if open_new %}
                  target="_blank"
                  rel="noopener"
                {% endif %}
              >
                <span class="hero-carousel__trigger-label">{{ label }}</span>
              </a>
            {% endfor %}
          </div>
        {% else %}
          <div class="hero-carousel__triggers">
            <a class="hero-carousel__trigger is-active" href="#">
              <span class="hero-carousel__trigger-label">{{ 'Shop now' | t }}</span>
            </a>
            <a class="hero-carousel__trigger" href="#">
              <span class="hero-carousel__trigger-label">{{ 'Learn more' | t }}</span>
            </a>
          </div>
        {% endif %}
      </div>
    </div>
  </div>

  {% if section.settings.meta_text != blank %}
    <div class="hero-carousel__meta">
      <span>{{ section.settings.meta_text }}</span>
    </div>
  {% endif %}
</section>

{% stylesheet %}
  .hero-carousel {
    --hero-carousel-divider-color: var(--section-gridline-color, rgba(0, 0, 0, 0.08));
    position: relative;
    padding-block: 0;
  }

  .hero-carousel__frame {
    position: relative;
    display: grid;
    grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
    align-items: stretch;
    min-height: clamp(420px, 60vw, 720px);
    column-gap: 0;
  }

  .hero-carousel__frame::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 50%;
    width: var(--section-gridline-width, 1px);
    transform: translateX(-50%);
    background-color: var(--hero-carousel-divider-color);
    pointer-events: none;
  }

  .hero-carousel__media {
    position: relative;
    overflow: hidden;
    background-color: var(--color-background, transparent);
    aspect-ratio: var(--hero-carousel-media-aspect-desktop, var(--hero-carousel-media-aspect, auto));
    padding: clamp(2rem, 4vw, 3rem);
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    width: 100%;
  }

  .hero-carousel__media-item {
    position: absolute;
    inset: 0;
    opacity: 0;
    transition: opacity var(--duration-lg, 600ms) var(--ease-smooth, cubic-bezier(0.25, 0.46, 0.45, 0.94));
    pointer-events: none;
  }

  .hero-carousel__media-item.is-active {
    opacity: 1;
    pointer-events: auto;
  }

  .hero-carousel__image,
  .hero-carousel__media-item svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .hero-carousel__image--mobile {
    display: none;
  }

  .hero-carousel__content {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: clamp(2.5rem, 5vw, 4rem);
  }

  .hero-carousel__content-inner {
    width: min(32rem, 100%);
    display: grid;
    gap: clamp(1.5rem, 3vw, 2.5rem);
  }

  .hero-carousel__heading {
    margin: 0;
    font-size: clamp(2.25rem, 4vw, 3.5rem);
    line-height: 1.1;
  }

  .hero-carousel__triggers {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(12rem, 1fr));
    gap: var(--grid-gutter, 0);
    border: var(--section-gridline-width, 1px) solid var(--hero-carousel-divider-color);
  }

  .hero-carousel__trigger {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-height: 3.25rem;
    padding-inline: clamp(1.5rem, 4vw, 2.5rem);
    background: transparent;
    color: currentColor;
    text-decoration: none;
    text-transform: none;
    font-weight: 500;
    letter-spacing: 0.01em;
    transition: color var(--duration-md, 360ms) var(--ease-smooth, cubic-bezier(0.25, 0.46, 0.45, 0.94)), background-color var(--duration-md, 360ms) var(--ease-smooth, cubic-bezier(0.25, 0.46, 0.45, 0.94));
  }

  .hero-carousel__trigger:not(:last-child) {
    border-inline-end: var(--section-gridline-width, 1px) solid var(--hero-carousel-divider-color);
  }

  .hero-carousel__trigger:hover,
  .hero-carousel__trigger:focus-visible,
  .hero-carousel__trigger.is-active {
    background-color: rgb(var(--color-foreground-rgb, 17 24 39) / 0.08);
  }

  .hero-carousel__trigger:focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 3px;
  }

  .hero-carousel__meta {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding-block: var(--space-sm, 0.75rem);
    padding-inline: clamp(1.5rem, 5vw, 3rem);
    border-top: var(--section-gridline-width, 1px) solid var(--hero-carousel-divider-color);
    font-size: 0.875rem;
    letter-spacing: 0.04em;
    text-transform: uppercase;
  }

  .hero-carousel--image-right .hero-carousel__media {
    grid-column: 2;
  }

  .hero-carousel--image-right .hero-carousel__content {
    grid-column: 1;
  }

  @media (min-width: 990px) {
    .hero-carousel--image-left .hero-carousel__media {
      padding-inline-end: 0;
      padding-right: 0;
    }

    .hero-carousel--image-right .hero-carousel__media {
      padding-inline-start: 0;
      padding-left: 0;
    }
  }

  .hero-carousel--align-left .hero-carousel__content {
    justify-content: flex-start;
  }

  .hero-carousel--align-right .hero-carousel__content {
    justify-content: flex-end;
  }

  .hero-carousel--align-left .hero-carousel__content-inner {
    text-align: left;
    justify-items: flex-start;
  }

  .hero-carousel--align-right .hero-carousel__content-inner {
    text-align: right;
    justify-items: flex-end;
  }

  @media (max-width: 989px) {
    .hero-carousel__frame {
      grid-template-columns: minmax(0, 1fr);
      min-height: auto;
    }

    .hero-carousel__frame::after {
      display: none;
    }

    .hero-carousel__media {
      aspect-ratio: var(
        --hero-carousel-media-aspect-mobile,
        var(--hero-carousel-media-aspect-desktop, var(--hero-carousel-media-aspect, 4 / 5))
      );
      border-bottom: var(--section-gridline-width, 1px) solid var(--hero-carousel-divider-color);
    }

    .hero-carousel__content {
      padding-block: clamp(2rem, 6vw, 3rem);
    }

    .hero-carousel__triggers {
      grid-template-columns: minmax(0, 1fr);
    }

    .hero-carousel__trigger:not(:last-child) {
      border-inline-end: none;
      border-bottom: var(--section-gridline-width, 1px) solid var(--hero-carousel-divider-color);
    }

    .hero-carousel__media-item--has-mobile .hero-carousel__image--desktop {
      display: none;
    }

    .hero-carousel__media-item--has-mobile .hero-carousel__image--mobile {
      display: block;
    }

    .hero-carousel__content-inner {
      margin-inline: 0;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .hero-carousel__media-item {
      transition-duration: 0.01ms;
    }

    .hero-carousel__trigger {
      transition: none;
    }
  }
{% endstylesheet %}

{% javascript %}
class HeroCarouselTriggers {
  constructor(section) {
    this.section = section;
    this.mediaContainer = section.querySelector('[data-hero-media]');
    this.triggers = Array.from(section.querySelectorAll('[data-trigger-index]'));
    this.mediaItems = Array.from(section.querySelectorAll('[data-media-index]'));
    this.activeIndex = this.triggers.findIndex((trigger) => trigger.classList.contains('is-active'));
    if (this.activeIndex < 0) {
      this.activeIndex = 0;
    }

    if (!this.triggers.length || !this.mediaItems.length) {
      return;
    }

    this.setActive(this.activeIndex);
    this.bindEvents();
  }

  bindEvents() {
    this.triggers.forEach((trigger) => {
      const index = Number(trigger.dataset.triggerIndex);
      trigger.addEventListener('mouseenter', () => this.setActive(index));
      trigger.addEventListener('focus', () => this.setActive(index));
      trigger.addEventListener('touchstart', () => this.setActive(index), { passive: true });
    });
  }

  setActive(index) {
    if (index === this.activeIndex || Number.isNaN(index)) return;

    const currentTrigger = this.triggers[this.activeIndex];
    const currentMedia = this.mediaItems[this.activeIndex];
    if (currentTrigger) currentTrigger.classList.remove('is-active');
    if (currentMedia) currentMedia.classList.remove('is-active');

    const nextTrigger = this.triggers[index];
    const nextMedia = this.mediaItems[index];
    if (nextTrigger) nextTrigger.classList.add('is-active');
    if (nextMedia) nextMedia.classList.add('is-active');
    const nextMediaColorScheme = nextMedia ? nextMedia.dataset.mediaColorScheme : undefined;
    this.applyMediaColorScheme(nextMediaColorScheme);
    this.applyMediaAspectRatio(nextMedia);

    this.activeIndex = index;
  }

  applyMediaColorScheme(scheme) {
    if (!this.mediaContainer) return;

    const previousScheme = this.mediaContainer.dataset.activeColorScheme;
    if (previousScheme) {
      this.mediaContainer.classList.remove(`color-${previousScheme}`);
    }

    const nextScheme = scheme || this.mediaContainer.dataset.defaultColorScheme;

    if (nextScheme) {
      this.mediaContainer.classList.add(`color-${nextScheme}`);
      this.mediaContainer.dataset.activeColorScheme = nextScheme;
    } else {
      this.mediaContainer.dataset.activeColorScheme = '';
    }
  }

  applyMediaAspectRatio(mediaElement) {
    if (!this.mediaContainer) return;

    const defaultDesktop = this.mediaContainer.dataset.defaultAspectDesktop;
    const defaultMobile = this.mediaContainer.dataset.defaultAspectMobile;
    const nextDesktop = mediaElement?.dataset.mediaAspectDesktop || defaultDesktop || '';
    const nextMobile = mediaElement?.dataset.mediaAspectMobile || defaultMobile || '';

    if (nextDesktop) {
      this.mediaContainer.style.setProperty('--hero-carousel-media-aspect-desktop', nextDesktop);
      this.mediaContainer.dataset.activeAspectDesktop = nextDesktop;
    } else {
      this.mediaContainer.style.removeProperty('--hero-carousel-media-aspect-desktop');
      this.mediaContainer.dataset.activeAspectDesktop = '';
    }

    if (nextMobile) {
      this.mediaContainer.style.setProperty('--hero-carousel-media-aspect-mobile', nextMobile);
      this.mediaContainer.dataset.activeAspectMobile = nextMobile;
    } else {
      this.mediaContainer.style.removeProperty('--hero-carousel-media-aspect-mobile');
      this.mediaContainer.dataset.activeAspectMobile = '';
    }
  }
}

document.querySelectorAll('[data-hero-carousel]').forEach((section) => {
  if (!section.dataset.controller) {
    section.dataset.controller = 'hero-carousel';
    new HeroCarouselTriggers(section);
  }
});
{% endjavascript %}

{% schema %}
{
  "name": "Hero carousel",
  "class": "hero-carousel-section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Just landed, Kōkako Half-Caf Mugs."
    },
    {
      "type": "select",
      "id": "heading_tag",
      "label": "Heading level",
      "default": "h1",
      "options": [
        { "value": "h1", "label": "H1" },
        { "value": "h2", "label": "H2" },
        { "value": "h3", "label": "H3" },
        { "value": "h4", "label": "H4" }
      ]
    },
    {
      "type": "textarea",
      "id": "meta_text",
      "label": "Meta row text",
      "default": "Fairtrade · Organic"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    },
    {
      "type": "select",
      "id": "media_aspect_ratio",
      "label": "Image panel aspect ratio",
      "default": "auto",
      "options": [
        { "value": "auto", "label": "Auto" },
        { "value": "landscape", "label": "Landscape (16:9)" },
        { "value": "portrait", "label": "Portrait (4:5)" },
        { "value": "square", "label": "Square (1:1)" },
        { "value": "custom", "label": "Custom" }
      ]
    },
    {
      "type": "text",
      "id": "media_aspect_ratio_custom",
      "label": "Custom aspect ratio",
      "info": "Use CSS syntax such as 3 / 2.",
      "placeholder": "3 / 2",
      "visible_if": "{{ section.settings.media_aspect_ratio == 'custom' }}"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "default": "left",
      "options": [
        { "value": "left", "label": "Image on left" },
        { "value": "right", "label": "Image on right" }
      ]
    },
    {
      "type": "select",
      "id": "content_alignment",
      "label": "Content alignment",
      "default": "right",
      "options": [
        { "value": "left", "label": "Left align" },
        { "value": "right", "label": "Right align" }
      ]
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding-block-start",
      "label": "Padding top",
      "min": 0,
      "max": 120,
      "step": 4,
      "default": 0
    },
    {
      "type": "range",
      "id": "padding-block-end",
      "label": "Padding bottom",
      "min": 0,
      "max": 120,
      "step": 4,
      "default": 0
    },
    {
      "type": "range",
      "id": "padding-inline-start",
      "label": "Padding left",
      "min": 0,
      "max": 80,
      "step": 4,
      "default": 0
    },
    {
      "type": "range",
      "id": "padding-inline-end",
      "label": "Padding right",
      "min": 0,
      "max": 80,
      "step": 4,
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide option",
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Button label",
          "default": "Shop now"
        },
        {
          "type": "url",
          "id": "url",
          "label": "Button link"
        },
        {
          "type": "checkbox",
          "id": "open_in_new_tab",
          "label": "Open in new tab"
        },
        {
          "type": "color_scheme",
          "id": "media_color_scheme",
          "label": "Image panel color scheme",
          "info": "Controls the background color shown behind this slide's image."
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Slide image"
        },
        {
          "type": "select",
          "id": "desktop_image_ratio",
          "label": "Desktop image aspect ratio",
          "info": "t:info.aspect_ratio_adjusted",
          "options": [
            { "value": "adapt", "label": "t:options.auto" },
            { "value": "portrait", "label": "t:options.portrait" },
            { "value": "square", "label": "t:options.square" },
            { "value": "landscape", "label": "t:options.landscape" }
          ],
          "default": "adapt"
        },
        {
          "type": "image_picker",
          "id": "mobile_image",
          "label": "Mobile image",
          "info": "Optional image shown below 990px. Falls back to the main slide image when empty."
        },
        {
          "type": "select",
          "id": "mobile_image_ratio",
          "label": "Mobile image aspect ratio",
          "info": "t:info.aspect_ratio_adjusted",
          "options": [
            { "value": "adapt", "label": "t:options.auto" },
            { "value": "portrait", "label": "t:options.portrait" },
            { "value": "square", "label": "t:options.square" },
            { "value": "landscape", "label": "t:options.landscape" }
          ],
          "default": "adapt"
        },
        {
          "type": "text",
          "id": "image_alt",
          "label": "Image alt text"
        }
      ]
    }
  ],
  "max_blocks": 4,
  "presets": [
    {
      "name": "Hero carousel",
      "category": "Hero",
      "blocks": [
        {
          "type": "slide",
          "settings": {
            "label": "Shop now"
          }
        },
        {
          "type": "slide",
          "settings": {
            "label": "I'm just browsing"
          }
        }
      ]
    }
  ]
}
{% endschema %}
