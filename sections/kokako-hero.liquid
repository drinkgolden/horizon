{% comment %}
Kokako Hero Section – replicates the "Welcome to Kōkako" banner with background media and two call-to-action buttons.
- If a video is set, it plays in the background (muted, loop).
- If no video, a static image is used as background.
- Displays "Welcome to Kōkako" heading text and two CTA buttons ("Shop now" and "I'm just browsing").
- Also shows Fairtrade and Organic badges as per Kokako's hero.
{% endcomment %}
<section id="kokako-hero-{{ section.id }}" class="kokako-hero section"
         data-section-id="{{ section.id }}" data-section-type="kokako-hero">
  <div class="kokako-hero__inner">
    <!-- Background media: video or image -->
    <div class="kokako-hero__media">
      {% if section.settings.hero_video %}
        <!-- Video background (auto-play, muted) -->
        <video class="kokako-hero__video" autoplay muted playsinline loop>
          {% assign video_source = section.settings.hero_video.sources | where: 'format', 'mp4' | first %}
          {% unless video_source %}
            {% assign video_source = section.settings.hero_video.sources | first %}
          {% endunless %}
          {% if video_source %}
            <source src="{{ video_source.url }}" type="video/mp4">
          {% endif %}
        </video>
      {% elsif section.settings.hero_image %}
        <!-- Static image background as fallback -->
        <img src="{{ section.settings.hero_image | image_url: width: 2000 }}"
             alt="{{ section.settings.hero_image.alt | default: 'Hero background' }}" class="kokako-hero__image" loading="lazy"
             width="{{ section.settings.hero_image.width }}" height="{{ section.settings.hero_image.height }}">
      {% endif %}
    </div>
    <!-- Hero content overlay -->
    <div class="kokako-hero__content">
      <h1 class="kokako-hero__heading">{{ section.settings.hero_heading }}</h1>
      {% if section.settings.show_badges %}
        <ul class="kokako-hero__badges">
          <li>Fairtrade</li>
          <li>Organic</li>
        </ul>
      {% endif %}
      <div class="kokako-hero__buttons">
        {% for btn in section.blocks %}
          {% if btn.type == 'cta' %}
            <a href="{{ btn.settings.link }}" class="kokako-hero__btn{% if forloop.first %} kokako-hero__btn--primary{% endif %}">
              {{ btn.settings.label }}
            </a>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
  {% schema %}
  {
    "name": "Homepage Hero (Kokako)",
    "tag": "section",
    "settings": [
      {
        "type": "text",
        "id": "hero_heading",
        "label": "Heading Text",
        "default": "Welcome to Kōkako"
      },
      {
        "type": "image_picker",
        "id": "hero_image",
        "label": "Background Image"
      },
      {
        "type": "video",
        "id": "hero_video",
        "label": "Background Video"
      },
      {
        "type": "checkbox",
        "id": "show_badges",
        "label": "Show Fairtrade & Organic Badges",
        "default": true
      }
    ],
    "blocks": [
      {
        "type": "cta",
        "name": "CTA Button",
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "Button Link"
          },
          {
            "type": "text",
            "id": "label",
            "label": "Button Label",
            "default": "Click me"
          }
        ]
      }
    ],
    "max_blocks": 2,
    "presets": [
      {
        "name": "Kokako Homepage Hero",
        "category": "Custom",
        "settings": {
          "hero_heading": "Welcome to Kōkako",
          "show_badges": true
        },
        "blocks": [
          {
            "type": "cta",
            "settings": {
              "link": "/collections/all",
              "label": "Shop now"
            }
          },
          {
            "type": "cta",
            "settings": {
              "link": "#main-content",
              "label": "I'm just browsing"
            }
          }
        ]
      }
    ]
  }
  {% endschema %}
</section>

<style>
/* Hero Section Styles */
.kokako-hero {
  position: relative;
  color: #fff;
  text-align: center;
  /* Ensure hero takes full viewport height */
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}
.kokako-hero__media {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  overflow: hidden;
  z-index: 1;
}
.kokako-hero__video, .kokako-hero__image {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  object-fit: cover;
}
.kokako-hero__content {
  position: relative;
  z-index: 2;
  max-width: 600px;
  padding: 2rem;
}
.kokako-hero__heading {
  font-size: 3rem;
  margin-bottom: 1rem;
}
.kokako-hero__badges {
  list-style: none;
  padding: 0;
  margin: 0 0 1.5rem;
  display: flex;
  justify-content: center;
  gap: 1rem;
}
.kokako-hero__badges li {
  background: rgba(0,0,0,0.5);
  padding: 0.4rem 0.8rem;
  border-radius: 4px;
  font-size: 0.9rem;
  text-transform: uppercase;
}
.kokako-hero__buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  justify-content: center;
}
.kokako-hero__btn {
  display: inline-block;
  padding: 0.75rem 1.5rem;
  border: 2px solid #fff;
  text-decoration: none;
  color: #fff;
  font-weight: bold;
}
.kokako-hero__btn--primary {
  background-color: #fff;
  color: #000;
}
/* Responsive adjustments */
@media (max-width: 767px) {
  .kokako-hero__heading { font-size: 2rem; }
  .kokako-hero__badges li { font-size: 0.8rem; }
  .kokako-hero__btn {
    width: 100%;
    text-align: center;
  }
}
</style>
