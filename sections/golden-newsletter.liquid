{% comment %}
Golden Newsletter Section â€“ "Join our newsletter to stay up to date on features and releases".
Provides an email signup form.
{% endcomment %}
{% assign newsletter_form_id = 'NewsletterForm-' | append: section.id %}
<section id="golden-newsletter-{{ section.id }}" class="golden-newsletter section"
         data-section-id="{{ section.id }}" data-section-type="golden-newsletter">
  <div class="golden-newsletter__inner">
    <h4 class="golden-newsletter__title">{{ section.settings.newsletter_text }}</h4>
    {% form 'customer', id: newsletter_form_id %}
      {% if form.posted_successfully? %}
        <p class="golden-newsletter__success">{{ section.settings.success_message }}</p>
      {% else %}
        {{ form.errors | default_errors }}
        <div class="golden-newsletter__form-group">
          <input type="email" name="contact[email]" id="NewsletterEmail-{{ section.id }}"
                 placeholder="{{ section.settings.placeholder_text }}" required class="golden-newsletter__input">
          <button type="submit" class="golden-newsletter__button">
            {{ section.settings.button_label }}
          </button>
        </div>
      {% endif %}
    {% endform %}
  </div>
  {% schema %}
{
  "name": "Golden Newsletter",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "newsletter_text",
      "label": "Newsletter Prompt",
      "default": "Join our newsletter to stay up to date on features and releases"
    },
    {
      "type": "text",
      "id": "placeholder_text",
      "label": "Email Placeholder",
      "default": "Enter your email address"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "Subscribe"
    },
    {
      "type": "text",
      "id": "success_message",
      "label": "Success Message",
      "default": "Thank you for subscribing!"
    }
  ],
  "presets": [
    {
      "name": "Golden Newsletter",
      "category": "Golden"
    }
  ]
}
{% endschema %}
</section>

<style>
/* Newsletter Section Styles */
.golden-newsletter {
  background: #f2f2f2;
  padding: 2rem 1rem;
  text-align: center;
}
.golden-newsletter__title {
  font-size: 1.1rem;
  margin-bottom: 1rem;
}
.golden-newsletter__form-group {
  display: inline-flex;
  max-width: 500px;
  width: 100%;
}
.golden-newsletter__input {
  flex: 1 1 auto;
  padding: 0.5rem;
  font-size: 1rem;
  border: 1px solid #ccc;
  border-right: none;
}
.golden-newsletter__button {
  flex: 0 0 auto;
  padding: 0.5rem 1rem;
  font-size: 1rem;
  background: #000;
  color: #fff;
  border: 1px solid #000;
  cursor: pointer;
}
.golden-newsletter__success {
  font-weight: bold;
  color: #336600;
}
@media (max-width: 600px) {
  .golden-newsletter__form-group {
    flex-direction: column;
  }
  .golden-newsletter__input {
    border-right: 1px solid #ccc;
    margin-bottom: 0.5rem;
  }
}
</style>
