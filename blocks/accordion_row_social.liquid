{% assign block_settings = block.settings %}
{% assign row_classes = 'accordion-row' %}
{% assign row_color_scheme_id = block_settings.color_scheme %}
{% if row_color_scheme_id == blank and section.settings.color_scheme != blank %}
  {% assign row_color_scheme_id = section.settings.color_scheme %}
{% endif %}
{% if row_color_scheme_id != blank %}
  {% assign row_classes = row_classes | append: ' color-' | append: row_color_scheme_id %}
{% endif %}
{% assign row_hover_scheme_id = block_settings.hover_color_scheme %}
{% if row_hover_scheme_id == blank %}
  {% assign row_hover_scheme_id = row_color_scheme_id %}
{% endif %}

{% assign left_hover_override = block_settings.left_hover_color_scheme %}
{% assign right_hover_override = block_settings.right_hover_color_scheme %}
{% assign left_hover_scheme_id = left_hover_override | default: row_hover_scheme_id %}
{% assign right_hover_scheme_id = right_hover_override | default: row_hover_scheme_id %}
{% assign has_split_hover_scheme = false %}
{% if left_hover_override != blank or right_hover_override != blank %}
  {% assign has_split_hover_scheme = true %}
{% endif %}

{% assign row_has_custom_scheme = false %}
{% if block_settings.color_scheme != blank %}
  {% assign row_has_custom_scheme = true %}
{% endif %}

{% assign has_reveal_content = true %}

{% assign is_collapsible = false %}
{% if has_reveal_content and block_settings.collapsible %}
  {% assign is_collapsible = true %}
{% endif %}

{% if has_reveal_content %}
  {% assign row_classes = row_classes | append: ' accordion-row--has-reveal' %}
{% endif %}

{% assign show_right_heading = false %}
{% if block_settings.right_heading != blank %}
  {% assign show_right_heading = true %}
{% endif %}

{% assign show_left_heading = false %}
{% if block_settings.heading != blank %}
  {% assign show_left_heading = true %}
{% elsif block_settings.icon != blank and block_settings.icon != 'none' %}
  {% assign show_left_heading = true %}
{% elsif block_settings.image_upload != blank %}
  {% assign show_left_heading = true %}
{% endif %}

{% assign header_classes = 'details__header' %}
{% if show_left_heading %}
  {% assign header_classes = header_classes | append: ' details__header--has-left' %}
{% else %}
  {% assign header_classes = header_classes | append: ' details__header--no-left' %}
{% endif %}
{% if show_right_heading %}
  {% assign header_classes = header_classes | append: ' details__header--has-right' %}
{% endif %}
{% if show_right_heading and show_left_heading == false %}
  {% assign header_classes = header_classes | append: ' details__header--right-only' %}
{% endif %}

{% assign has_custom_summary_padding = false %}
{% assign has_custom_content_padding = false %}

{% assign summary_padding_block_start_value = block_settings.summary_padding_block_start | default: 0 | times: 1 %}
{% assign summary_padding_block_end_value = block_settings.summary_padding_block_end | default: 0 | times: 1 %}
{% assign summary_padding_inline_start_value = block_settings.summary_padding_inline_start | default: 0 | times: 1 %}
{% assign summary_padding_inline_end_value = block_settings.summary_padding_inline_end | default: 0 | times: 1 %}

{% if summary_padding_block_start_value != 0 or summary_padding_block_end_value != 0 or summary_padding_inline_start_value != 0 or summary_padding_inline_end_value != 0 %}
  {% assign has_custom_summary_padding = true %}
{% endif %}

{% assign content_padding_block_start_value = block_settings.content_padding_block_start | default: 0 | times: 1 %}
{% assign content_padding_block_end_value = block_settings.content_padding_block_end | default: 0 | times: 1 %}
{% assign content_padding_inline_start_value = block_settings.content_padding_inline_start | default: 0 | times: 1 %}
{% assign content_padding_inline_end_value = block_settings.content_padding_inline_end | default: 0 | times: 1 %}

{% if content_padding_block_start_value != 0 or content_padding_block_end_value != 0 or content_padding_inline_start_value != 0 or content_padding_inline_end_value != 0 %}
  {% assign has_custom_content_padding = true %}
{% endif %}

{% assign has_row_custom_padding = false %}
{% if has_custom_summary_padding or has_custom_content_padding %}
  {% assign has_row_custom_padding = true %}
{% endif %}

{% capture inline_styles %}
  {% if summary_padding_block_start_value != 0 %}--accordion-header-padding-block-start: {{ summary_padding_block_start_value }}px;{% endif %}
  {% if summary_padding_block_end_value != 0 %}--accordion-header-padding-block-end: {{ summary_padding_block_end_value }}px;{% endif %}
  {% if summary_padding_inline_start_value != 0 %}--accordion-header-padding-inline-start: {{ summary_padding_inline_start_value }}px;{% endif %}
  {% if summary_padding_inline_end_value != 0 %}--accordion-header-padding-inline-end: {{ summary_padding_inline_end_value }}px;{% endif %}
  {% if content_padding_block_start_value != 0 %}--accordion-content-padding-block-start: {{ content_padding_block_start_value }}px;{% endif %}
  {% if content_padding_block_end_value != 0 %}--accordion-content-padding-block-end: {{ content_padding_block_end_value }}px;{% endif %}
  {% if content_padding_inline_start_value != 0 %}--accordion-content-padding-inline-start: {{ content_padding_inline_start_value }}px;{% endif %}
  {% if content_padding_inline_end_value != 0 %}--accordion-content-padding-inline-end: {{ content_padding_inline_end_value }}px;{% endif %}
  {% if block_settings.heading_type_preset != blank %}
    --accordion-heading-font-family: var(--font-{{ block_settings.heading_type_preset }}--family);
    --accordion-heading-font-style: var(--font-{{ block_settings.heading_type_preset }}--style);
    --accordion-heading-font-weight: var(--font-{{ block_settings.heading_type_preset }}--weight);
    --accordion-heading-text-case: var(--font-{{ block_settings.heading_type_preset }}--case);
    --accordion-heading-line-height: var(--font-{{ block_settings.heading_type_preset }}--line-height);
    --accordion-heading-base-size: var(--font-{{ block_settings.heading_type_preset }}--size);
  {% endif %}
  {% if block_settings.right_heading_type_preset != blank and block_settings.right_heading_type_preset != 'match' %}
    --accordion-right-heading-font-family: var(--font-{{ block_settings.right_heading_type_preset }}--family);
    --accordion-right-heading-font-style: var(--font-{{ block_settings.right_heading_type_preset }}--style);
    --accordion-right-heading-font-weight: var(--font-{{ block_settings.right_heading_type_preset }}--weight);
    --accordion-right-heading-text-case: var(--font-{{ block_settings.right_heading_type_preset }}--case);
    --accordion-right-heading-line-height: var(--font-{{ block_settings.right_heading_type_preset }}--line-height);
    --accordion-right-heading-base-size: var(--font-{{ block_settings.right_heading_type_preset }}--size);
  {% endif %}
  {% assign heading_min_numeric = block_settings.heading_min_size | default: 0 | times: 1 %}
  {% assign heading_max_numeric = block_settings.heading_max_size | default: 0 | times: 1 %}
  {% if heading_min_numeric > 0 %}--accordion-heading-min-size: {{ heading_min_numeric }}rem;{% endif %}
  {% if heading_max_numeric > 0 %}--accordion-heading-max-size: {{ heading_max_numeric }}rem;{% endif %}
  {% if heading_min_numeric == 0 and heading_max_numeric == 0 %}
    --accordion-heading-size: var(--accordion-heading-base-size, var(--summary-font-size));
    --accordion-right-heading-size: var(--accordion-right-heading-base-size, var(--accordion-heading-base-size, var(--summary-font-size)));
  {% endif %}
  {% if has_row_custom_padding %}
    --padding-inline-start: 0px;
    --padding-inline-end: 0px;
    --padding-block-start: 0px;
    --padding-block-end: 0px;
    --padding-inline-start-negative: 0px;
    --padding-inline-end-negative: 0px;
    --padding-block-start-negative: 0px;
    --padding-block-end-negative: 0px;
  {% endif %}
{% endcapture %}

{% capture header_styles %}
  {% if summary_padding_block_start_value != 0 %}padding-block-start: {{ summary_padding_block_start_value }}px;{% endif %}
  {% if summary_padding_block_end_value != 0 %}padding-block-end: {{ summary_padding_block_end_value }}px;{% endif %}
  {% if summary_padding_inline_start_value != 0 %}padding-inline-start: {{ summary_padding_inline_start_value }}px;{% endif %}
  {% if summary_padding_inline_end_value != 0 %}padding-inline-end: {{ summary_padding_inline_end_value }}px;{% endif %}
{% endcapture %}

{% capture content_styles %}
  {% if content_padding_block_start_value != 0 %}padding-block-start: {{ content_padding_block_start_value }}px;{% endif %}
  {% if content_padding_block_end_value != 0 %}padding-block-end: {{ content_padding_block_end_value }}px;{% endif %}
  {% if content_padding_inline_start_value != 0 %}padding-inline-start: {{ content_padding_inline_start_value }}px;{% endif %}
  {% if content_padding_inline_end_value != 0 %}padding-inline-end: {{ content_padding_inline_end_value }}px;{% endif %}
{% endcapture %}

{% assign slide_count = block_settings.max_items | default: 12 | times: 1 %}
{% assign slideshow_ref = 'socialFeed' | append: block.id %}
{% assign slideshow_id = 'social-feed-' | append: block.id %}
{% assign section_width_setting = section.settings.section_width | default: 'full-width' %}
{% assign slideshow_gutters = nil %}
{% if section_width_setting == 'page-width' %}
  {% assign slideshow_gutters = 'start end' %}
{% endif %}

{% capture social_slides %}
  {% for i in (1..slide_count) %}
    {% capture slide_markup %}
      <div class="resource-list__item social-feed__item" data-social-feed-item data-index="{{ forloop.index0 }}">
        <a class="social-feed-card" data-social-feed-link href="#" aria-label="Social post">
          <div class="social-feed-card__media border-style">
            {{ 'hero-apparel-2' | placeholder_svg_tag: 'social-feed-card__placeholder' }}
            <img
              class="social-feed-card__image"
              data-social-feed-image
              loading="lazy"
              decoding="async"
              alt="Social post"
            >
          </div>
          <div class="social-feed-card__caption" data-social-feed-caption></div>
        </a>
      </div>
    {% endcapture %}
    {% render 'slideshow-slide',
      index: forloop.index0,
      children: slide_markup,
      class: 'resource-list__slide'
    %}
  {% endfor %}
{% endcapture %}

{% assign arrow_style = block_settings.icons_style %}
{% if arrow_style == 'caret' %}
  {% assign arrow_style = 'chevron' %}
{% endif %}
{% if arrow_style == 'arrow' %}
  {% assign arrow_style = 'chevron' %}
{% endif %}

{% if arrow_style != 'none' %}
  {% capture slideshow_arrows %}
    {% render 'slideshow-arrows', icon_style: arrow_style, icon_shape: block_settings.icons_shape %}
  {% endcapture %}
{% endif %}

<div
  class="{{ row_classes }}"
  {% if row_color_scheme_id != blank %}
    data-base-color-scheme="{{ row_color_scheme_id }}"
  {% endif %}
  {% if row_hover_scheme_id != blank %}
    data-hover-scheme="{{ row_hover_scheme_id }}"
  {% endif %}
  {% if left_hover_scheme_id != blank %}
    data-left-hover-scheme="{{ left_hover_scheme_id }}"
  {% endif %}
  {% if right_hover_scheme_id != blank %}
    data-right-hover-scheme="{{ right_hover_scheme_id }}"
  {% endif %}
  {% if has_split_hover_scheme %}
    data-hover-split="true"
  {% endif %}
>
  <accordion-custom
    class="accordion-row__inner{% if row_has_custom_scheme %} accordion-row--custom-scheme{% endif %}"
    {% if inline_styles != blank %}
      style="{{ inline_styles | strip }}"
    {% endif %}
    {% if is_collapsible and block_settings.open_by_default %}
      open-by-default-on-desktop
      open-by-default-on-mobile
    {% endif %}
  >
    {% if is_collapsible %}
      <details
        class="details"
        data-testid="accordion-details"
        {{ block.shopify_attributes }}
      >
        <summary
          class="{{ header_classes }}"
          {% if header_styles != blank %}
            style="{{ header_styles | strip }}"
          {% endif %}
        >
          <span class="details__heading details__heading--left"{% unless show_left_heading %} aria-hidden="true"{% endunless %}>
            {% render 'icon-or-image',
              icon: block_settings.icon,
              image_upload: block_settings.image_upload,
              width: block_settings.width,
              class_name: 'details__icon'
            %}
            <span class="details__label">{{ block_settings.heading }}</span>
            {% if block_settings.heading != blank and is_collapsible %}
              <span class="details__caret details__caret--left">
                <span class="svg-wrapper icon-caret icon-animated">
                  {{- 'icon-caret.svg' | inline_asset_content -}}
                </span>
              </span>
            {% endif %}
          </span>
          {% if show_right_heading %}
            <span class="details__heading details__heading--right">
              {% if is_collapsible %}
                <span class="details__caret details__caret--right">
                  <span class="svg-wrapper icon-caret icon-animated">
                    {{- 'icon-caret.svg' | inline_asset_content -}}
                  </span>
                </span>
              {% endif %}
              <span class="details__label">{{ block_settings.right_heading }}</span>
            </span>
          {% endif %}
        </summary>

        <div
          class="details-content"
          {% if content_styles != blank %}
            style="{{ content_styles | strip }}"
          {% endif %}
        >
          <div
            class="accordion-social-feed"
            data-social-feed
            data-provider="{{ block_settings.provider }}"
            data-feed-url="{{ block_settings.feed_url | escape }}"
            data-limit="{{ slide_count }}"
            data-show-captions="{{ block_settings.show_captions }}"
            data-open-new-tab="{{ block_settings.open_new_tab }}"
            data-image-ratio="{{ block_settings.image_ratio }}"
          >
            <p class="social-feed__empty" data-social-feed-empty hidden>
              "Anyone who thinks they're too small to make a difference has never met the honey bee."
            </p>
            <div
              class="resource-list resource-list__carousel force-full-width"
              data-social-feed-carousel
              style="
                --resource-list-column-gap-desktop: {{ block_settings.columns_gap }}px;
                --column-count: {{ block_settings.columns }};
                --column-count-mobile: 1;
                --mobile-card-size: {{ block_settings.mobile_card_size }};
                --slide-width-max: {{ block_settings.slide_width_max }}px;
              "
            >
              {% render 'slideshow',
                ref: slideshow_ref,
                class: 'resource-list__carousel',
                slides: social_slides,
                slideshow_arrows: slideshow_arrows,
                auto_hide_controls: false,
                infinite: false,
                initial_slide: 0,
                slide_count: slide_count,
                slideshow_gutters: slideshow_gutters,
                attributes: 'id="' | append: slideshow_id | append: '"'
              %}
            </div>
          </div>
        </div>
      </details>
    {% else %}
      <div
        class="details details--static"
        data-testid="accordion-details"
        {{ block.shopify_attributes }}
      >
        <div
          class="{{ header_classes }}"
          {% if header_styles != blank %}
            style="{{ header_styles | strip }}"
          {% endif %}
        >
          <span class="details__heading details__heading--left"{% unless show_left_heading %} aria-hidden="true"{% endunless %}>
            {% render 'icon-or-image',
              icon: block_settings.icon,
              image_upload: block_settings.image_upload,
              width: block_settings.width,
              class_name: 'details__icon'
            %}
            <span class="details__label">{{ block_settings.heading }}</span>
          </span>
          {% if show_right_heading %}
            <span class="details__heading details__heading--right">
              <span class="details__label">{{ block_settings.right_heading }}</span>
            </span>
          {% endif %}
        </div>
        {% if has_reveal_content %}
          <div
            class="details-content"
            {% if content_styles != blank %}
              style="{{ content_styles | strip }}"
            {% endif %}
          >
            <div
              class="accordion-social-feed"
              data-social-feed
              data-provider="{{ block_settings.provider }}"
              data-feed-url="{{ block_settings.feed_url | escape }}"
              data-limit="{{ slide_count }}"
              data-show-captions="{{ block_settings.show_captions }}"
              data-open-new-tab="{{ block_settings.open_new_tab }}"
              data-image-ratio="{{ block_settings.image_ratio }}"
            >
              <p class="social-feed__empty" data-social-feed-empty hidden>
                "Anyone who thinks they're too small to make a difference has never met the honey bee."
              </p>
              <div
                class="resource-list resource-list__carousel force-full-width"
                data-social-feed-carousel
                style="
                  --resource-list-column-gap-desktop: {{ block_settings.columns_gap }}px;
                  --column-count: {{ block_settings.columns }};
                  --column-count-mobile: 1;
                  --mobile-card-size: {{ block_settings.mobile_card_size }};
                  --slide-width-max: {{ block_settings.slide_width_max }}px;
                "
              >
                {% render 'slideshow',
                  ref: slideshow_ref,
                  class: 'resource-list__carousel',
                  slides: social_slides,
                  slideshow_arrows: slideshow_arrows,
                  auto_hide_controls: false,
                  infinite: false,
                  initial_slide: 0,
                  slide_count: slide_count,
                  slideshow_gutters: slideshow_gutters,
                  attributes: 'id="' | append: slideshow_id | append: '"'
                %}
              </div>
            </div>
          </div>
        {% endif %}
      </div>
    {% endif %}
  </accordion-custom>
</div>

{% stylesheet %}
  .accordion-row {
    width: 100%;
    position: relative;
    overflow: hidden;
    --accordion-caret-gap: 12px;
    --accordion-hover-background: rgb(var(--color-foreground-rgb, 255 255 255) / 0.08);
    --accordion-hover-color: var(--color-foreground);
    --accordion-hover-border: rgb(var(--color-border-rgb, var(--color-foreground-rgb, 0 0 0)) / 0.2);
    --accordion-open-background: var(--color-background);
    --accordion-open-color: inherit;
    --accordion-open-border: rgb(var(--color-border-rgb, var(--color-foreground-rgb, 0 0 0)) / 0.2);
    --accordion-divider-thickness: var(--golden-gridline-thickness, var(--style-border-width, 1px));
  }

  .accordion-row::before {
    content: '';
    position: absolute;
    top: calc(var(--padding-block-start, 0px) * -1);
    bottom: calc(var(--padding-block-end, 0px) * -1);
    left: calc(var(--padding-inline-start, 0px) * -1);
    right: calc(var(--padding-inline-end, 0px) * -1);
    background-color: var(--color-background);
    z-index: -1;
  }

  .accordion-row__inner {
    display: block;
  }

  .accordion-row__group--left {
    margin-inline-end: auto;
  }

  .accordion-row__group--right {
    margin-inline-start: auto;
  }

  .details__icon {
    height: auto;
    margin-inline-end: var(--margin-xs);
  }

  .details__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--margin-md);
    transition: background-color 160ms var(--ease-out), color 160ms var(--ease-out);
    padding-block-start: var(--accordion-header-padding-block-start, var(--padding-sm));
    padding-block-end: var(--accordion-header-padding-block-end, var(--padding-sm));
    padding-inline-start: var(--accordion-header-padding-inline-start, var(--padding-inline-start, 0px));
    padding-inline-end: var(--accordion-header-padding-inline-end, var(--padding-inline-end, 0px));
  }

  .details__header--has-right {
    gap: var(--margin-lg);
  }

  .details__heading {
    display: inline-flex;
    align-items: center;
    gap: var(--margin-xs);
    justify-content: flex-start;
    flex: 1;
    min-width: 0;
    color: inherit;
    font-family: var(--accordion-heading-font-family, var(--summary-font-family));
    font-style: var(--accordion-heading-font-style, var(--summary-font-style));
    font-weight: var(--accordion-heading-font-weight, var(--summary-font-weight));
    line-height: var(--accordion-heading-line-height, var(--summary-font-line-height));
    text-transform: var(--accordion-heading-text-case, var(--summary-font-case));
    font-size: var(
      --accordion-heading-size,
      clamp(
        var(--accordion-heading-min-size, 1rem),
        calc(
          var(--accordion-heading-min-size, 1rem) +
            (
              var(--accordion-heading-max-size, 3.4rem) -
              var(--accordion-heading-min-size, 1rem)
            ) *
            clamp(
              0,
              (
                100vw -
                var(--accordion-heading-min-breakpoint, 20rem)
              ) /
                max(
                  0.001rem,
                  var(--accordion-heading-max-breakpoint, 48rem) -
                    var(--accordion-heading-min-breakpoint, 20rem)
                ),
              1
            )
        ),
        var(--accordion-heading-max-size, 3.4rem)
      )
    );
  }

  .details__heading--right {
    margin-inline-start: auto;
    text-align: right;
    justify-content: flex-end;
  }

  .details__header:not(.details__header--has-right) {
    justify-content: flex-start;
  }

  .details__header:not(.details__header--has-right) .details__heading--left {
    flex: 1 1 100%;
    width: auto;
    max-width: none;
  }

  .details__header:not(.details__header--has-right) .details__heading--left .details__label {
    width: 100%;
  }

  .details__header--right-only {
    justify-content: flex-end;
  }

  .details__header--right-only .details__heading--left {
    display: none;
  }

  .details__header--right-only .details__heading--right {
    flex: 1 1 100%;
    width: auto;
    max-width: none;
    margin-inline-start: 0;
  }

  .details__header--right-only .details__heading--right .details__label {
    width: 100%;
  }

  .details__heading--right .details__label {
    font-family: var(--accordion-right-heading-font-family, var(--accordion-heading-font-family, var(--summary-font-family)));
    font-style: var(--accordion-right-heading-font-style, var(--accordion-heading-font-style, var(--summary-font-style)));
    font-weight: var(--accordion-right-heading-font-weight, var(--accordion-heading-font-weight, var(--summary-font-weight)));
    line-height: var(--accordion-right-heading-line-height, var(--accordion-heading-line-height, var(--summary-font-line-height)));
    text-transform: var(--accordion-right-heading-text-case, var(--accordion-heading-text-case, var(--summary-font-case)));
    font-size: var(
      --accordion-right-heading-size,
      var(
        --accordion-heading-size,
        clamp(
          var(--accordion-heading-min-size, 1rem),
          calc(
            var(--accordion-heading-min-size, 1rem) +
              (
                var(--accordion-heading-max-size, 3.4rem) -
                var(--accordion-heading-min-size, 1rem)
              ) *
              clamp(
                0,
                (
                  100vw -
                  var(--accordion-heading-min-breakpoint, 20rem)
                ) /
                  max(
                    0.001rem,
                    var(--accordion-heading-max-breakpoint, 48rem) -
                      var(--accordion-heading-min-breakpoint, 20rem)
                  ),
                1
              )
          ),
          var(--accordion-heading-max-size, 3.4rem)
        )
      )
    );
  }

  .details__label {
    display: inline-block;
    color: inherit;
  }

  .details__caret {
    display: inline-flex;
    margin-inline-start: var(--accordion-caret-gap);
    opacity: 0;
    transform: translateX(4px);
    transition: opacity var(--animation-speed) var(--animation-easing), transform var(--animation-speed) var(--animation-easing);
  }

  .details__caret--right {
    order: -1;
    margin-inline-start: 0;
    margin-inline-end: var(--accordion-caret-gap);
    transform: translateX(-4px);
  }

  .details__caret .svg-wrapper {
    margin-inline-start: 0;
  }

  .details__heading:hover .details__caret,
  .details__heading:focus-within .details__caret {
    opacity: 1;
    transform: translateX(0);
  }

  summary .svg-wrapper.icon-caret {
    margin-inline-start: 0;
  }

  .accordion-row:hover .details__header,
  .accordion-row:hover .details-content {
    background-color: var(--accordion-hover-background);
    color: var(--accordion-hover-color);
    border-color: var(--accordion-hover-border);
  }

  details[open] .details__header,
  details[open] .details-content {
    background-color: var(--accordion-open-background);
    color: var(--accordion-open-color);
    border-color: var(--accordion-open-border);
  }

  .accordion-row:hover .details__heading,
  .accordion-row:hover .details__label,
  .accordion-row:hover .details__caret .svg-wrapper,
  details[open] .details__heading,
  details[open] .details__label,
  details[open] .details__caret .svg-wrapper {
    color: inherit;
  }

  .details-content {
    padding-block-start: var(--accordion-content-padding-block-start, var(--padding-md));
    padding-block-end: var(--accordion-content-padding-block-end, var(--padding-md));
    padding-inline-start: var(--accordion-content-padding-inline-start, var(--padding-inline-start, 0px));
    padding-inline-end: var(--accordion-content-padding-inline-end, var(--padding-inline-end, 0px));
    color: inherit;
  }

  .accordion-row__group-hidden {
    display: none !important;
  }

  .accordion-social-feed {
    --social-feed-aspect-ratio: 1 / 1;
  }

  .accordion-social-feed slideshow-controls,
  .accordion-social-feed .slideshow-controls__arrows {
    mix-blend-mode: difference;
  }

  .accordion-social-feed slideshow-arrows {
    padding-inline: 0;
  }

  .accordion-social-feed slideshow-arrows .slideshow-control {
    padding-inline: 0;
  }

  .accordion-social-feed .button-unstyled.slideshow-control.slideshow-control--shape-circle,
  .accordion-social-feed .button-unstyled.slideshow-control.slideshow-control--shape-square {
    background-color: transparent;
    color: currentColor;
    box-shadow: none;
  }

  .social-feed__empty {
    margin: 0;
    padding: var(--padding-lg);
    text-align: center;
    font-size: var(--font-body--size);
    line-height: var(--font-body--line-height);
    color: inherit;
  }

  .accordion-social-feed[data-image-ratio='portrait'] {
    --social-feed-aspect-ratio: 4 / 5;
  }

  .accordion-social-feed[data-image-ratio='landscape'] {
    --social-feed-aspect-ratio: 16 / 9;
  }

  .accordion-social-feed .resource-list__carousel {
    width: 100%;
  }

  .social-feed__item {
    height: 100%;
  }

  .social-feed-card {
    display: flex;
    flex-direction: column;
    gap: var(--margin-xs);
    text-decoration: none;
    color: inherit;
  }

  .social-feed-card__media {
    position: relative;
    width: 100%;
    overflow: hidden;
    aspect-ratio: var(--social-feed-aspect-ratio);
    background: var(--image-placeholder-color);
  }

  .social-feed-card__image,
  .social-feed-card__placeholder {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
  }

  .social-feed-card__placeholder {
    position: absolute;
    inset: 0;
    padding: var(--padding-xs);
  }

  .social-feed__item--loaded .social-feed-card__placeholder {
    opacity: 0;
    visibility: hidden;
  }

  .social-feed-card__caption {
    font-size: var(--font-body--size);
    line-height: var(--font-body--line-height);
    color: inherit;
  }

  .accordion-social-feed[data-show-captions='false'] .social-feed-card__caption {
    display: none;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Social feed row",
  "tag": null,
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Accordion heading"
    },
    {
      "type": "text",
      "id": "right_heading",
      "label": "Right heading",
      "info": "Optional heading displayed on the right side of the row."
    },
    {
      "type": "checkbox",
      "id": "collapsible",
      "label": "Collapsible",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "open_by_default",
      "label": "Open row by default",
      "default": false,
      "visible_if": "{{ block.settings.collapsible == true }}"
    },
    {
      "type": "header",
      "content": "Social feed"
    },
    {
      "type": "select",
      "id": "provider",
      "label": "Provider",
      "options": [
        { "value": "instagram", "label": "Instagram" },
        { "value": "tiktok", "label": "TikTok" }
      ],
      "default": "instagram"
    },
    {
      "type": "text",
      "id": "feed_url",
      "label": "Feed URL",
      "info": "Leave blank to use https://social-feed.staygolden.co.nz/app_proxy/{provider}."
    },
    {
      "type": "range",
      "id": "max_items",
      "label": "Max items",
      "min": 3,
      "max": 20,
      "step": 1,
      "default": 12
    },
    {
      "type": "checkbox",
      "id": "show_captions",
      "label": "Show captions",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "open_new_tab",
      "label": "Open posts in new tab",
      "default": true
    },
    {
      "type": "select",
      "id": "image_ratio",
      "label": "Image ratio",
      "options": [
        { "value": "square", "label": "Square" },
        { "value": "portrait", "label": "Portrait" },
        { "value": "landscape", "label": "Landscape" }
      ],
      "default": "square"
    },
    {
      "type": "header",
      "content": "Carousel layout"
    },
    {
      "type": "range",
      "id": "columns",
      "label": "Columns",
      "min": 2,
      "max": 6,
      "step": 1,
      "default": 4
    },
    {
      "type": "range",
      "id": "columns_gap",
      "label": "Column gap",
      "min": 0,
      "max": 40,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "select",
      "id": "mobile_card_size",
      "label": "Mobile card size",
      "options": [
        { "value": "50cqw", "label": "Small" },
        { "value": "60cqw", "label": "Medium" },
        { "value": "75cqw", "label": "Large" }
      ],
      "default": "60cqw"
    },
    {
      "type": "range",
      "id": "slide_width_max",
      "label": "Max slide width",
      "min": 240,
      "max": 520,
      "step": 10,
      "unit": "px",
      "default": 420
    },
    {
      "type": "select",
      "id": "icons_style",
      "label": "Arrow style",
      "options": [
        { "value": "arrow", "label": "Arrow" },
        { "value": "chevron", "label": "Chevron" },
        { "value": "none", "label": "None" }
      ],
      "default": "chevron"
    },
    {
      "type": "select",
      "id": "icons_shape",
      "label": "Arrow shape",
      "options": [
        { "value": "circle", "label": "Circle" },
        { "value": "square", "label": "Square" },
        { "value": "none", "label": "None" }
      ],
      "default": "none"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Row colour scheme"
    },
    {
      "type": "color_scheme",
      "id": "hover_color_scheme",
      "label": "Row hover colour scheme"
    },
    {
      "type": "color_scheme",
      "id": "left_hover_color_scheme",
      "label": "Left hover colour scheme",
      "info": "Applies when the left heading is hovered or selected."
    },
    {
      "type": "color_scheme",
      "id": "right_hover_color_scheme",
      "label": "Right hover colour scheme",
      "info": "Applies when the right heading is hovered or selected."
    },
    {
      "type": "header",
      "content": "Summary padding"
    },
    {
      "type": "range",
      "id": "summary_padding_block_start",
      "label": "Top padding",
      "min": 0,
      "max": 80,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "summary_padding_block_end",
      "label": "Bottom padding",
      "min": 0,
      "max": 80,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "summary_padding_inline_start",
      "label": "Left padding",
      "min": 0,
      "max": 80,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "summary_padding_inline_end",
      "label": "Right padding",
      "min": 0,
      "max": 80,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "header",
      "content": "Content padding"
    },
    {
      "type": "range",
      "id": "content_padding_block_start",
      "label": "Top padding",
      "min": 0,
      "max": 80,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "range",
      "id": "content_padding_block_end",
      "label": "Bottom padding",
      "min": 0,
      "max": 80,
      "step": 1,
      "unit": "px",
      "default": 24
    },
    {
      "type": "range",
      "id": "content_padding_inline_start",
      "label": "Left padding",
      "min": 0,
      "max": 80,
      "step": 1,
      "unit": "px",
      "default": 24
    },
    {
      "type": "range",
      "id": "content_padding_inline_end",
      "label": "Right padding",
      "min": 0,
      "max": 80,
      "step": 1,
      "unit": "px",
      "default": 24
    },
    {
      "type": "header",
      "content": "Heading typography"
    },
    {
      "type": "select",
      "id": "heading_type_preset",
      "label": "Heading style",
      "options": [
        { "value": "", "label": "Inherit section settings" },
        { "value": "paragraph", "label": "Paragraph" },
        { "value": "h1", "label": "H1" },
        { "value": "h2", "label": "H2" },
        { "value": "h3", "label": "H3" },
        { "value": "h4", "label": "H4" },
        { "value": "h5", "label": "H5" },
        { "value": "h6", "label": "H6" }
      ],
      "default": ""
    },
    {
      "type": "select",
      "id": "right_heading_type_preset",
      "label": "Right heading style",
      "options": [
        { "value": "match", "label": "Match left heading" },
        { "value": "paragraph", "label": "Paragraph" },
        { "value": "h1", "label": "H1" },
        { "value": "h2", "label": "H2" },
        { "value": "h3", "label": "H3" },
        { "value": "h4", "label": "H4" },
        { "value": "h5", "label": "H5" },
        { "value": "h6", "label": "H6" }
      ],
      "default": "match"
    },
    {
      "type": "range",
      "id": "heading_min_size",
      "label": "Minimum text size",
      "min": 0,
      "max": 2.5,
      "step": 0.1,
      "unit": "rem",
      "default": 0
    },
    {
      "type": "range",
      "id": "heading_max_size",
      "label": "Maximum text size",
      "min": 0,
      "max": 3.5,
      "step": 0.1,
      "unit": "rem",
      "default": 0
    },
    {
      "type": "header",
      "content": "Icon"
    },
    {
      "type": "select",
      "id": "icon",
      "label": "Icon",
      "options": [
        { "value": "none", "label": "None" },
        { "value": "apple", "label": "Apple" },
        { "value": "arrow", "label": "Arrow" },
        { "value": "banana", "label": "Banana" },
        { "value": "bottle", "label": "Bottle" },
        { "value": "box", "label": "Box" },
        { "value": "carrot", "label": "Carrot" },
        { "value": "chat_bubble", "label": "Chat bubble" },
        { "value": "check_box", "label": "Check box" },
        { "value": "clipboard", "label": "Clipboard" },
        { "value": "dairy", "label": "Dairy" },
        { "value": "dairy_free", "label": "Dairy free" },
        { "value": "dryer", "label": "Dryer" },
        { "value": "eye", "label": "Eye" },
        { "value": "fire", "label": "Fire" },
        { "value": "gluten_free", "label": "Gluten free" },
        { "value": "heart", "label": "Heart" },
        { "value": "iron", "label": "Iron" },
        { "value": "leaf", "label": "Leaf" },
        { "value": "leather", "label": "Leather" },
        { "value": "lightning_bolt", "label": "Lightning bolt" },
        { "value": "lipstick", "label": "Lipstick" },
        { "value": "lock", "label": "Lock" },
        { "value": "map_pin", "label": "Map pin" },
        { "value": "nut_free", "label": "Nut free" },
        { "value": "pants", "label": "Pants" },
        { "value": "paw", "label": "Paw" },
        { "value": "recycle", "label": "Recycle" },
        { "value": "shirt", "label": "Shirt" },
        { "value": "shoe", "label": "Shoe" },
        { "value": "snowflake", "label": "Snowflake" },
        { "value": "star", "label": "Star" },
        { "value": "sun", "label": "Sun" },
        { "value": "thumbs_up", "label": "Thumbs up" },
        { "value": "trophy", "label": "Trophy" },
        { "value": "washing", "label": "Washing" }
      ],
      "default": "none"
    },
    {
      "type": "image_picker",
      "id": "image_upload",
      "label": "Icon image"
    },
    {
      "type": "range",
      "id": "width",
      "label": "Icon size",
      "min": 12,
      "max": 96,
      "step": 1,
      "unit": "px",
      "default": 20
    }
  ],
  "presets": [
    {
      "name": "Social feed row"
    }
  ]
}
{% endschema %}
